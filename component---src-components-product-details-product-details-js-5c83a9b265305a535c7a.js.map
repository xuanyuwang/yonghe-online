{"version":3,"sources":["webpack:///./src/components/productDetails/productDetails.js"],"names":["query","data","show","setShow","useState","handleClose","productImages","props","mainimage","mainImage","allImages","subimages","map","item","image","mainImageURL","setMainImageURL","url","rightSideImages","filter","useEffect","focusImageContainer","document","getElementsByClassName","focusMainImageContainer","style","height","getClientRects","width","Container","className","Row","Col","sm","xs","Image","src","result","classes","index","thumbnail","length","onClick","push","RightSideImages","ProductImages","product","paddingBottom","Breadcrumb","Item","linkAs","Link","linkProps","to","categoryid","active","paddingLeft","md","fontSize","productname","text","productid","productsize","productyearinfo","productdescription","Button","backgroundColor","color","borderColor","boxShadow","Modal","centered","onHide","animation","Carousel","interval","indicators","nextIcon","aria-hidden","prevIcon","qualificationimages","qualification","key","qualificationimageid","qualificationimage","alt"],"mappings":"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","file":"component---src-components-product-details-product-details-js-5c83a9b265305a535c7a.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState, useEffect } from 'react';\nimport { graphql } from 'gatsby';\nimport Navbar from '../Navbar/navbar';\nimport Footer from '../Footer/footer';\nimport { Carousel, Container, Breadcrumb, Image, Col, Row, Button, Modal } from 'react-bootstrap';\nimport { Link } from 'gatsby';\nimport './productDetails.scss';\n\nexport const query = graphql`\n  query GetSingleProduct($uid: String) {\n\tproduct: prismicProduct(uid: {eq: $uid}) {\n\t\tdata {\n\t\t  categoryid\n\t\t  mainimage {\n\t\t\turl(imgixParams: {q: 100})\n\t\t\t}\n\t\t  productid {\n\t\t\ttext\n\t\t  }\n\t\t  productname {\n\t\t\ttext\n\t\t  }\n\t\t  productsize {\n\t\t\ttext\n\t\t  }\n\t\t  productyearinfo {\n\t\t\ttext\n\t\t  }\n\t\t  qualificationimages {\n\t\t\tqualificationimage {\n\t\t\t\turl(imgixParams: {auto: \"enhance\", q: 100})\n\t\t\t}\n\t\t\tqualificationimageid\n\t\t  }\n\t\t  productdescription {\n\t\t\ttext\n\t\t  }\n\t\t  subimages {\n\t\t\timage {\n\t\t\t  url(imgixParams: {q: 100})\n\t\t\t}\n\t\t\tsubimageid\n\t\t  }\n\t\t}\n\t}\n  }\n`;\n\nconst ProductImages = (props) => {\n\tconst { mainimage: mainImage } = props;\n\tconst subImages = props.subimages.map((item) => { return item.image; });\n\n\tconst allImages = [mainImage, ...subImages];\n\tconst [mainImageURL, setMainImageURL] = useState(mainImage.url);\n\tconst rightSideImages = allImages.filter((image) => { return image.url !== mainImageURL.url; });\n\tconst RightSideImages = () => {\n\t\tconst result = [];\n\t\tconst classes = ['first', 'second', 'third', 'fourth'];\n\t\tfor (let index = 0; index < 4; index++) {\n\t\t\tlet thumbnail = null;\n\t\t\tif (rightSideImages.length > index) {\n\t\t\t\tconst url = rightSideImages[index].url;\n\t\t\t\tthumbnail = <div\n\t\t\t\t\tclassName={`thumbnail ${classes[index]}-thumbnails`}\n\t\t\t\t\tonClick={() => { setMainImageURL(url); }}\n\t\t\t\t>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName='thumbnail-image'\n\t\t\t\t\t\tsrc={url}\n\t\t\t\t\t/>;\n\t\t\t\t</div>;\n\t\t\t}\n\t\t\tresult.push(thumbnail);\n\t\t}\n\t\treturn result;\n\t};\n\n\tuseEffect(() => {\n\t\tconst focusImageContainer = document.getElementsByClassName('product-details-container')[0];\n\t\tconst focusMainImageContainer = document.getElementsByClassName('product-detail-mainImage')[0];\n\t\tfocusImageContainer.style.height = focusMainImageContainer.getClientRects()[0].width + 'px';\n\t});\n\n\treturn <Container className='product-detail-images'>\n\t\t<Row className='product-details-container'>\n\t\t\t<Col className='product-detail-mainImage' sm={9} xs={9} >\n\t\t\t\t<Image src={mainImageURL} />\n\t\t\t</Col>\n\t\t\t<Col className='product-detail-thumbnails' sm={3} xs={3}>\n\t\t\t\t<div className='layout-wrapper'>\n\t\t\t\t\t{RightSideImages()}\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</Row>\n\t</Container>;\n};\nconst ProductDetails = ({ data }) => {\n\tconst [show, setShow] = useState(false);\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\tconst productImages = ProductImages(data.product.data);\n\treturn (\n\t\t<>\n\t\t\t<Navbar />\n\t\t\t<div className=\"productDetailsSection\">\n\t\t\t\t<Container style={{ paddingBottom: '3rem' }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Breadcrumb>\n\t\t\t\t\t\t\t<Breadcrumb.Item linkAs={Link} linkProps={{ to: '/platform' }}>甄品商城首页</Breadcrumb.Item>\n\t\t\t\t\t\t\t<Breadcrumb.Item linkAs={Link} linkProps={{ to: `/platform/product-list-${data.product.data.categoryid}` }}>列表页</Breadcrumb.Item>\n\t\t\t\t\t\t\t<Breadcrumb.Item active>商品详情页</Breadcrumb.Item>\n\t\t\t\t\t\t</Breadcrumb>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row style={{ paddingBottom: '3.5rem' }}>\n\t\t\t\t\t\t<Col style={{ paddingLeft: '0' }} md={7}>\n\t\t\t\t\t\t\t{productImages}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={10} sm={10} md={5} >\n\t\t\t\t\t\t\t<div className=\"productDetailsStyle\">\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 'calc(18px + 0.4vw)' }}>{data.product.data.productname.text}</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n\t\t\t\t\t\t\t\t\t商品编号：{data.product.data.productid.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n\t\t\t\t\t\t\t\t\t尺寸大小： {data.product.data.productsize.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n\t\t\t\t\t\t\t\t\t年份：{data.product.data.productyearinfo.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n\t\t\t\t\t\t\t\t\t藏品描述：{data.product.data.productdescription.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<p className=\"pStyle\" >\n\t\t\t\t\t\t\t\t\t<Button onClick={handleShow} style={{ backgroundColor: 'black', color: 'white', borderColor: 'black', boxShadow: 'none' }}>查看征信报告</Button>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<Modal show={show} centered onHide={handleClose} animation={false}>\n\t\t\t\t\t\t\t\t\t<Carousel interval={null} indicators={false} nextIcon={<span aria-hidden=\"true\" className=\"nextArrowIconStyle\" />} prevIcon={<span aria-hidden=\"true\" className=\"prevArrowIconStyle\" />} >\n\t\t\t\t\t\t\t\t\t\t{data.product.data.qualificationimages.map(qualification => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Carousel.Item className=\"slideW\" key={qualification.qualificationimageid}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={qualification.qualificationimage.url} style={{ width: '100%', height: 'auto' }} onClick={handleClose} alt=\"no image\" /></Carousel.Item>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t\t<Footer />\n\t\t</>\n\t);\n};\n\nexport default ProductDetails;\n"],"sourceRoot":""}