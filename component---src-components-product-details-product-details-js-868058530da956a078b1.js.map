{"version":3,"sources":["webpack:///./src/components/productDetails/productDetails.js"],"names":["query","data","show","setShow","useState","handleClose","productImages","props","mainimage","mainImage","allImages","subimages","map","item","image","mainImageURL","setMainImageURL","url","rightSideImages","filter","rightSideImage","index","length","Image","src","onClick","useEffect","focusImageContainer","document","getElementsByClassName","focusMainImageContainer","style","height","getClientRects","width","thumbnailContainer","thumbnails","i","Container","className","Row","Col","sm","xs","ProductImages","product","paddingBottom","Breadcrumb","Item","linkAs","Link","linkProps","to","categoryid","active","paddingLeft","md","fontSize","productname","text","productid","productsize","productyearinfo","productdescription","Button","backgroundColor","color","borderColor","boxShadow","Modal","centered","onHide","animation","Carousel","interval","indicators","nextIcon","aria-hidden","prevIcon","qualificationimages","qualification","key","qualificationimageid","qualificationimage","alt"],"mappings":"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","file":"component---src-components-product-details-product-details-js-868058530da956a078b1.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState, useEffect } from 'react';\nimport { graphql } from 'gatsby';\nimport Navbar from '../Navbar/navbar';\nimport Footer from '../Footer/footer';\nimport {Carousel,Container,Breadcrumb,Image,Col,Row,Button,Modal} from 'react-bootstrap'; \nimport { Link } from 'gatsby';\nimport './productDetails.scss';\n\nexport const query = graphql`\n  query GetSingleProduct($uid: String) {\n\tproduct: prismicProduct(uid: {eq: $uid}) {\n\t\tdata {\n\t\t  categoryid\n\t\t  mainimage {\n\t\t\turl(imgixParams: {q: 100})\n\t\t\t}\n\t\t  productid {\n\t\t\ttext\n\t\t  }\n\t\t  productname {\n\t\t\ttext\n\t\t  }\n\t\t  productsize {\n\t\t\ttext\n\t\t  }\n\t\t  productyearinfo {\n\t\t\ttext\n\t\t  }\n\t\t  qualificationimages {\n\t\t\tqualificationimage {\n\t\t\t\turl(imgixParams: {auto: \"enhance\", q: 100})\n\t\t\t}\n\t\t\tqualificationimageid\n\t\t  }\n\t\t  productdescription {\n\t\t\ttext\n\t\t  }\n\t\t  subimages {\n\t\t\timage {\n\t\t\t  url(imgixParams: {q: 100})\n\t\t\t}\n\t\t\tsubimageid\n\t\t  }\n\t\t}\n\t}\n  }\n`;\n\nconst ProductImages = (props) => {\n\tconst { mainimage: mainImage } = props;\n\tconst subImages = props.subimages.map((item) => { return item.image; });\n\n\tconst allImages = [mainImage, ...subImages];\n\tconst [mainImageURL, setMainImageURL] = useState(mainImage.url);\n\tconst rightSideImages = allImages.filter((image) => { return image.url !== mainImageURL.url; });\n\tconst rightSideImage = (index) => {\n\t\tif(rightSideImages.length > index){\n\t\t\tconst url = rightSideImages[index].url;\n\t\t\treturn <Image\n\t\t\t\tsrc={url}\n\t\t\t\tonClick={()=>{ setMainImageURL(url); }}/>;\n\t\t}else{\n\t\t\tnull;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst focusImageContainer = document.getElementsByClassName('product-details-container')[0];\n\t\tconst focusMainImageContainer = document.getElementsByClassName('product-detail-mainImage')[0];\n\t\tfocusImageContainer.style.height = focusMainImageContainer.getClientRects()[0].width + 'px';\n\n\t\tconst thumbnailContainer = document.getElementsByClassName('layout-wrapper')[0];\n\t\tconst thumbnails = document.getElementsByClassName('thumbnail');\n\t\tfor(let i = 0; i < thumbnails.length; i++){\n\t\t\tthumbnails[i].style.width = (thumbnailContainer.getClientRects()[0].width) + 'px';\n\t\t}\n\t});\n\n\treturn <Container className='product-detail-images'>\n\t\t<Row className='product-details-container'>\n\t\t\t<Col className='product-detail-mainImage' sm={9} xs={9} >\n\t\t\t\t<Image src={mainImageURL}/>\n\t\t\t</Col>\n\t\t\t<Col className='product-detail-thumbnails' sm={3} xs={3}>\n\t\t\t\t<div className='layout-wrapper'>\n\t\t\t\t\t<div className='thumbnail first-thumbnails'>\n\t\t\t\t\t\t{rightSideImage(0)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='thumbnail second-thumbnails'>\n\t\t\t\t\t\t{rightSideImage(1)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='thumbnail third-thumbnails'>\n\t\t\t\t\t\t{rightSideImage(2)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='thumbnail fourth-thumbnails'>\n\t\t\t\t\t\t{rightSideImage(3)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Col>\n\t\t</Row>\n\t</Container>;\n};\nconst ProductDetails = ({data}) => {\n\tconst [show, setShow] = useState(false);\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\tconst productImages = ProductImages(data.product.data);\n\treturn(\n\t\t<>\n\t\t\t<Navbar/>\n\t\t\t<div className=\"productDetailsSection\">\n\t\t\t\t<Container style={{paddingBottom:'3rem'}}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Breadcrumb>\n\t\t\t\t\t\t\t<Breadcrumb.Item linkAs={Link} linkProps={{ to: '/platform' }}>甄品商城首页</Breadcrumb.Item>\n\t\t\t\t\t\t\t<Breadcrumb.Item linkAs={Link} linkProps={{ to: `/platform/product-list-${data.product.data.categoryid}`}}>列表页</Breadcrumb.Item>\n\t\t\t\t\t\t\t<Breadcrumb.Item active>商品详情页</Breadcrumb.Item>\n\t\t\t\t\t\t</Breadcrumb>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row style={{paddingBottom:'3.5rem'}}>\n\t\t\t\t\t\t<Col style={{paddingLeft:'0'}} md={7}>\n\t\t\t\t\t\t\t{productImages}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={10} sm={10} md={5} >\n\t\t\t\t  <div className=\"productDetailsStyle\">\n\t\t\t\t\t\t\t\t<p style={{fontSize:'calc(18px + 0.4vw)'}}>{data.product.data.productname.text}</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n                \t\t\t\t\t商品编号：{data.product.data.productid.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n                \t\t\t\t\t尺寸大小： {data.product.data.productsize.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n                \t\t\t\t\t年份：{data.product.data.productyearinfo.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\">\n\t\t\t\t\t\t\t\t\t藏品描述：{data.product.data.productdescription.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<p className=\"pStyle\" >\n\t\t\t\t\t\t\t\t\t<Button onClick={handleShow} style={{backgroundColor:'black',color:'white',borderColor:'black',boxShadow:'none'}}>查看征信报告</Button>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<Modal show={show} centered onHide={handleClose} animation={false}>\n\t\t\t\t\t\t\t\t\t<Carousel interval={null} indicators={false}  nextIcon={<span aria-hidden=\"true\" className=\"nextArrowIconStyle\"/>} prevIcon={<span aria-hidden=\"true\" className=\"prevArrowIconStyle\"/>} >\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{data.product.data.qualificationimages.map(qualification=>{\n\t\t\t\t\t\t\t\t\t\t\treturn <Carousel.Item className=\"slideW\" key={qualification.qualificationimageid}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img  src={qualification.qualificationimage.url} style={{width:'100%',height:'auto'}} onClick={handleClose} alt=\"no image\"/></Carousel.Item>;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t\t<Footer/>\n\t\t</>\n\t);\n};\n\nexport default ProductDetails;\n"],"sourceRoot":""}